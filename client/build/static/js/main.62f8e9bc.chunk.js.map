{"version":3,"sources":["Components/Sign/Sign.js","Components/Connect/Connect.js","assets/meto-logo.png","Pages/Register/background.svg","Pages/Register/Register.js","Components/Navbar/Navbar.js","actions/postAction.js","utils.js","actions/userAction.js","Pages/Profil/FollowHandler.js","Components/Publication/FriendProfil.js","Components/Publication/UpdatePost.js","Contexts/AppContext.js","Components/Publication/LikeButton.js","Components/Publication/EditDeleteComment.js","Components/Publication/Comments.js","Components/Publication/CommentsForm.js","Components/Publication/Publication.js","Pages/Home/PostForm.js","Components/Friend/Friend.js","Pages/Home/Home.js","Pages/Profil/UploadImg.js","Pages/Profil/Profil.js","App.js","reducers/userReducer.js","actions/usersAction.js","reducers/usersReducer.js","reducers/postsReducer.js","reducers/errorReducer.js","reducers/index.js","index.js"],"names":["Sign","useState","pseudoSign","passwordSign","confirmPassword","checked","user","setUser","handleChange","e","target","value","name","check","useRef","signUp","a","preventDefault","pseudoError","document","querySelector","passwordError","confirmPasswordError","checkboxError","innerHTML","length","axios","method","url","withCredentials","data","pseudo","password","then","res","errors","window","location","catch","err","console","log","onSubmit","type","placeholder","onChange","className","id","ref","onClick","htmlFor","Connect","pseudoConnect","passwordConnect","logIn","includes","defaultValue","Home","sign","connect","setLog","toggleRegister","command","src","background","alt","logo","Navbar","userData","useSelector","state","userReducer","logOut","key","cookie","remove","expires","exact","activeClassName","to","picture","GET_POSTS","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","EDIT_COMMENT","DELETE_COMMENT","GET_POST_ERRORS","getPosts","num","dispatch","get","array","reverse","slice","payload","addPost","post","maxSize","format","isEmpty","undefined","Object","keys","trim","dateParser","timestamp","Date","parse","toLocaleDateString","hour","minute","year","month","day","toString","timestampParser","GET_USER","UPLOAD_PICTURE","UPLOAD_BIO","FOLLOW_USER","UNFOLLOW_USER","GET_USER_ERRORS","FollowHandler","idToFollow","useDispatch","isFollowed","setIsFollowed","handleFollow","followerId","patch","followUser","_id","handleUnfollow","idToUnfollow","useEffect","following","FriendProfil","toggleUser","createdAt","bio","followers","UpdatePost","isUpdated","setIsUpdated","textUpdate","setTextUpdate","deleteQuote","postId","message","posterId","confirm","UserIdContext","createContext","LikeButton","liked","setLiked","uid","useContext","likers","unlike","userId","EditDeleteComment","comment","isAuthor","setIsAuthor","edit","setEdit","text","setText","commenterId","handleDelete","commentId","deleteComment","editComment","Comments","usersData","toggleComments","setToggleComments","comments","map","join","commenterPseudo","CommentsForm","addComment","Publication","isLoading","setIsLoading","loadPosts","setLoadPosts","toggleFriendProfil","setToggleFriendProfil","userFriendProfil","setUserFriendProfil","postsData","postsReducer","usersReducer","count","setCount","loadMore","innerHeight","documentElement","scrollTop","scrollingElement","scrollHeight","addEventListener","removeEventListener","video","allow","title","PostForm","setMessage","postPicture","setPostPicture","setVideo","file","setFile","error","errorReducer","handlePost","FormData","append","cancelPost","alert","findLink","split","i","embed","replace","handleVideo","handleMessage","accept","URL","createObjectURL","files","handlePicture","postsErrors","Friend","slot","setSlot","division","setDivision","translate","setTranslate","friendList","setFriendList","width","setWidth","number","max","Math","ceil","list","innerWidth","handleSlot","style","transform","push","sort","random","notFriendList","UploadImg","isChanged","setIsChanged","erros","uploadPicture","changePicture","Profil","bioActive","setBioActive","setBio","toggleBio","followersPopup","setFollowersPopup","followingPopup","setFollowingPopup","handlePopup","closePopup","usersErrors","put","uploadBio","App","setUid","fetchToken","getUser","Provider","path","component","Register","initialState","likes","GET_USERS","combineReducers","action","filter","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.62f8e9bc.chunk.js","sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Sign() {\r\n  // handle form\r\n  const [user, setUser] = useState({\r\n    pseudoSign: \"\",\r\n    passwordSign: \"\",\r\n    confirmPassword: \"\",\r\n    checked: false,\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { value, name } = e.target;\r\n\r\n    setUser({ ...user, [name]: value });\r\n  };\r\n\r\n  // checkbox\r\n  const check = useRef();\r\n\r\n  const handleCheck = () => {\r\n    user.checked = !user.checked;\r\n  };\r\n\r\n  // register\r\n  const signUp = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const pseudoError = document.querySelector(\".pseudo-sign.error\");\r\n    const passwordError = document.querySelector(\".password-sign.error\");\r\n    const confirmPasswordError = document.querySelector(\r\n      \".confirm-password-sign.error\"\r\n    );\r\n    const checkboxError = document.querySelector(\".checkbox.error\");\r\n\r\n    pseudoError.innerHTML = \"\";\r\n    passwordError.innerHTML = \"\";\r\n    confirmPasswordError.innerHTML = \"\";\r\n    checkboxError.innerHTML = \"\";\r\n\r\n    if (\r\n      user.passwordSign !== user.confirmPassword ||\r\n      !user.checked ||\r\n      user.passwordSign.length < 5 ||\r\n      user.pseudoSign.length < 3\r\n    ) {\r\n      if (user.passwordSign !== user.confirmPassword) {\r\n        confirmPasswordError.innerHTML =\r\n          \"Les mots de passe ne correspondent pas\";\r\n      }\r\n      if (!user.checked) {\r\n        checkboxError.innerHTML =\r\n          \"Veuillez valider les conditions d'utilisation\";\r\n      }\r\n      if (user.passwordSign.length < 5) {\r\n        passwordError.innerHTML = \"5 caractères minimum\";\r\n      }\r\n      if (user.pseudoSign.length < 3) {\r\n        pseudoError.innerHTML = \"3 caractères minimum\";\r\n      }\r\n    } else {\r\n      axios({\r\n        method: \"post\",\r\n        url: `/users/register`,\r\n        withCredentials: true,\r\n        data: {\r\n          pseudo: user.pseudoSign,\r\n          password: user.passwordSign,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (res.data.errors) {\r\n            if (res.data.errors.pseudo) {\r\n              pseudoError.innerHTML = res.data.errors.pseudo;\r\n            }\r\n          } else {\r\n            axios({\r\n              method: \"post\",\r\n              url: `/users/logIn`,\r\n              withCredentials: true,\r\n\r\n              data: {\r\n                pseudo: user.pseudoSign,\r\n                password: user.passwordSign,\r\n              },\r\n            });\r\n          }\r\n          window.location = \"/accueil\";\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={signUp}>\r\n      <p>Créer un compte</p>\r\n      <input\r\n        type=\"text\"\r\n        name=\"pseudoSign\"\r\n        placeholder=\"Pseudo\"\r\n        value={user.pseudoSign}\r\n        onChange={handleChange}\r\n      />\r\n      <div className=\"error pseudo-sign\"></div>\r\n\r\n      <input\r\n        type=\"password\"\r\n        name=\"passwordSign\"\r\n        id=\"password\"\r\n        placeholder=\"Mot de passe\"\r\n        value={user.passwordSign}\r\n        onChange={handleChange}\r\n      />\r\n      <div className=\"error password-sign\"></div>\r\n\r\n      <input\r\n        type=\"password\"\r\n        name=\"confirmPassword\"\r\n        id=\"confirm-password\"\r\n        placeholder=\"Confirmer mot de passe\"\r\n        value={user.confirmPassword}\r\n        onChange={handleChange}\r\n      />\r\n      <div className=\"error confirm-password-sign\"></div>\r\n\r\n      <div className=\"check\">\r\n        <input\r\n          type=\"checkbox\"\r\n          name=\"\"\r\n          id=\"check\"\r\n          ref={check}\r\n          onClick={handleCheck}\r\n        />\r\n        <label htmlFor=\"check\">J'accepte les </label>\r\n        <span>conditions d'utilisation</span>\r\n      </div>\r\n      <div className=\"error checkbox\"></div>\r\n\r\n      <button>Inscription</button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Connect() {\r\n  const [user, setUser] = useState({ pseudoConnect: \"\", passwordConnect: \"\" });\r\n\r\n  const handleChange = (e) => {\r\n    const { value, name } = e.target;\r\n\r\n    setUser({ ...user, [name]: value });\r\n  };\r\n\r\n  const logIn = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const pseudoError = document.querySelector(\".pseudo.error\");\r\n    const passwordError = document.querySelector(\".password.error\");\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: `/users/logIn`,\r\n      withCredentials: true,\r\n\r\n      data: {\r\n        pseudo: user.pseudoConnect,\r\n        password: user.passwordConnect,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.data.errors) {\r\n          console.log(res);\r\n          pseudoError.innerHTML = res.data.errors.includes(\"Pseudo\")\r\n            ? res.data.errors\r\n            : \"\";\r\n\r\n          passwordError.innerHTML = res.data.errors.includes(\"Mot de passe\")\r\n            ? res.data.errors\r\n            : \"\";\r\n        } else {\r\n          window.location = \"/accueil\";\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={logIn}>\r\n      <p>Bienvenue</p>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Pseudo\"\r\n        onChange={handleChange}\r\n        name=\"pseudoConnect\"\r\n        defaultValue=\"demo-user\"\r\n      />\r\n      <div className=\"error pseudo\"></div>\r\n      <input\r\n        type=\"password\"\r\n        name=\"passwordConnect\"\r\n        id=\"password\"\r\n        placeholder=\"Mot de passe\"\r\n        onChange={handleChange}\r\n        defaultValue=\"111111\"\r\n      />\r\n      <div className=\"error password\"></div>\r\n      <button type=\"submit\">Connection</button>\r\n    </form>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAsCAYAAACnkNxJAAAIN0lEQVR4Ae2cdXDrOhaHl5mZmZmZmXfjPH5p0mVmZt7HzMzMzIyXmZmZMSTv75vad854Ak7q3ptp9ceZxrKkyP50UG0f8ZUf/tLLCJKR+/AeuBcP3IsH7kr5N4Z77/2YoVhMtRC8rnzAXk/0YHoIeL0YXCE5YShg10r5teVi8A4PpoeAh/37PqdezC+slYLvZLWIsLT3M+ulYGqtGPzWQ+kZ4FbLv/GBeikfStPvEKT9qgfu+7SOIT/iEY90peBtAn2w5lin+W6mzUPp0aBNsLcAXcDGS9u3SutHq+00tLTeF+yvz1+o9eU+VivmPlIt5T6pPt8IS8H31O8gybXqt6KGpdBP5ulx7fbABWuZIN0nsLej4cDV9U91fZQ2wSX6eatA3q+fD0juBrJ+nqE+f9fYfcJvBq+qFoPPot1qn6SN8X0PpJeBl4L1kUl+UMAO7Tja/1bwcsFe7fqDr7JB9PnnHkiPAneFwpMVUTs02/Xv9SLMcti3195px5N6SePHaaP8k2usgtk0XnoNeKUYvAeTHl9jztF4zLXkfc3y9LAv//zIv98h4DeEf//Vo2jHnEvLr+tq8zn3tB073Le2bXMv7nTs1q3hCzT2Ozt3uufY9jAMH7t9u3truRy+I61ojtcyVvO9mutuRN/7uOQa1faErVvdFzTvD/WMP4tl+/b6T8plt5/W+ZIhBz7gq/NX2TZMO8EXgZhkm66n4McBix+XRVjOpkDoh//eNV9/7l2Y926idD38BTt2hKFeyGS9nEenHae+j9SY0YzVS7vB3tP1zbR3Ju7+aOydXHcpr7Lr0yb6meZd16I/a69JLmDTDhVw4F6Jz00Cj/Lzq7cVck+hgDIQqee/IrgfDYvBS10x/0GAA9cCD3/z2UcTvBETpF2DgTPGPPyBHWyUXDxOL2uufdGax+1h4Mxzeidj1X8uFitz4Phf0jABeo1tF+wZ1f7gSwMRd/CXhua8FCzFpEvD7yF/t/erxfwFjOseOOJmC9hjUmj3o7AIzYCbl1hWv5Up5drIpF/R6D5zmXlXN+nz8gFX476Z2EzLmV/3L4tF15dLxnPfPMctmQMnpSL3tm34bLXvRItJtyiRAt/ej1K0o7gmPUvCJU+n2jY44Ij7VrsxejH70DcF8DuzCpbYCPG8mza5Z7fYjI9W38VmfQcTUzSfN/yM1rnJrPkjWdfSb8WH8zkRtC0yfb4A9NgKUHuX3A34CO53CNzsHOEPvvw4TD1VvMEA1/V8XlCbFzq9R4ED8OPm+29PN3f4PfMsx2UGnJMyKmzUvm27/PH5lEgTgd2fMO/y2z9iM2DSd2lY4evPbuIWDtKYC7sFbuR7LbS7QJ8eBc76fmXWVUgz9+bN4VMI3iIL92BmwAX1PME9ptEmIB+3hyH4apn5TVH59RIicRuFq/04NoqdiznYCJycdQqcBzYPvXj9+vDxDbT7MQQ3UX9H/3bASYsU4L2vlZAaZafh7r9pzbMV/Hwcx2QCnKgbgBYseTSmmgIK4KmHE5DRj3SsWgrOJk1T29G6N4fcnXo7/rrSF7wSs18t5T+dsBbHcATbuYa7LaQnfEbIUxu8lG8ZX3+tZGU74Lr3+hQR+kEZAj8o7qfNlNq9scnNs3QN3ARdwShB+2uiWnYQGgxIzDa+mjRMBvVJA/ByX9OYMfbMW9e/ov7OpgA4Y9ks1tyrzxpKrp0Cp/hhtHw52mlAPk73FsTarUj4XR54E6HsSSkUnytIP6AqhhmPiygUVjgRsyY7CTx5ps7moUCjOcpRbj5Tcx3BPPpckKym3t4J8Oj6HOMDf2VeyA8MyKtoSwOcyhn9Won6/XlYAEezCb6ACgDJOoIqgAAt9uEC9gfycKpraHgz4GgvVgDtJu/mPnV5XAMlWX3PPzTHGDYAaR5uAKvQCXAAGS1fSUCDP9fnJbF2qyT5dgu8t6J09y9jPT7egWtbHa15ZsfAq335ALAAlqwQgFqkhX9ppnVod72Y+wY+Gz9NmmWBk7pFR6onE7E322CY8uhoNWRjYEnYBGwG4ofWwG2VKoYW/oESpTG/l9OnV4EnUqxfpYT9EpvKdQwc00o6BdzYX1MKBRabgDo6GtloLCdomPz4t2EATpCGv2YDNDt9I+CjEid5kO8mqIvzc76bNVGiTQNc16/QdSVqX4s/N5H8W9sBN6XVu3d/Wha+wdYUsFApgJ9gxvwt08ILdXLq6ByGCOplgGmkqdxDowGNUEdP9sOUU4RhLurznMJ1uh4LPPGCT2kQXF3MvSbAbfuaqP9m+dGvSt7XTjTHG7MAHvW916x5tJ7xgxSMGmm25FhbCmazZwrcaiXpWGTq/wTkZOWMX3sSTIepT44v9+/1ViJ/xFbXsgIuU/6yRP26Jt/95jTACfy6OTzJCrg20Hvs2o11KhupdZMtDNpUEbmTewOOOrq9B2jq7klfT2oWbZSfxmfiWQO3ps5qdzrg+ES3Yo8AN/X+GHoa4ZiYwtKQA0eAhpZjuqmjJ6P0hFW4QjLJRN+DkqiAslAyvYGmvBjzzOEC+XSDAGlcNPbexoGQO4Wolz4p5PI26zwl7rtxY/jMNM+GRYpOx7Y3ORJ1PIP6HUDssdv/1IjgCuiuP19KAiclw8Tj2+PCzO6QFSvck1sHPr0vaG7kr18eCy6rm+fKfHGuL/9OQSVnL8TAidwp3JCuWRPuZZj8MSEpW1RPPwjgpGmSS4YpbA88PvOW1BCqcPhv/8KHMXCicX7Lxf7CopdhDBzhTBzt9i96hAC3UbqXEQCcPyRs9QcGXvy//PDigXvxwL144F48cC8euJf/A3rkWsQTEEVlAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/background.ae94bccc.svg\";","import React, { useState } from \"react\";\r\nimport Sign from \"../../Components/Sign/Sign\";\r\nimport Connect from \"../../Components/Connect/Connect\";\r\nimport logo from \"../../assets/meto-logo.png\";\r\nimport background from \"./background.svg\";\r\n\r\nconst Home = () => {\r\n  // toggle forms\r\n  const [log, setLog] = useState({ sign: false, connect: true });\r\n\r\n  const toggleRegister = (command) => {\r\n    if (command === \"sign\") {\r\n      setLog({ sign: true, connect: false });\r\n    }\r\n    if (command === \"connect\") {\r\n      setLog({ sign: false, connect: true });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"container-register \">\r\n      <img src={background} alt=\"fond d'écran\" className=\"background-img\" />\r\n\r\n      <div className=\"container\">\r\n        <img src={logo} alt=\"logo\" className=\"logo\" />\r\n\r\n        <div className=\"logs\">\r\n          <div className=\"btns\">\r\n            <button\r\n              className={log.connect ? \"btn-connect active\" : \"btn-connect\"}\r\n              onClick={() => toggleRegister(\"connect\")}\r\n            >\r\n              Se connecter\r\n            </button>\r\n            <button\r\n              className={log.sign ? \"btn-sign active\" : \"btn-sign\"}\r\n              onClick={() => toggleRegister(\"sign\")}\r\n            >\r\n              S'inscrire\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"forms\">\r\n            {log.connect && <Connect />}\r\n\r\n            {log.sign && <Sign />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport cookie from \"js-cookie\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport logo from \"../../assets/meto-logo.png\";\r\n\r\nexport default function Navbar() {\r\n  const userData = useSelector((state) => state.userReducer);\r\n\r\n  const removeCookie = (key) => {\r\n    if (window !== \"undefined\") {\r\n      cookie.remove(key, { expires: 1 });\r\n    }\r\n  };\r\n\r\n  const logOut = async () => {\r\n    await axios({\r\n      method: \"get\",\r\n      url: `/users/logOut`,\r\n      withCredentials: true,\r\n    })\r\n      .then(() => {\r\n        removeCookie(\"jwt\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    window.location = \"/\";\r\n  };\r\n\r\n  return (\r\n    <nav>\r\n      <div className=\"navigation\">\r\n        <div className=\"logo\">\r\n          <img src={logo} alt=\"logo\" />\r\n        </div>\r\n        <ul>\r\n          <NavLink exact activeClassName=\"current\" to=\"/profil\">\r\n            <li>\r\n              {userData.pseudo}\r\n              <img src={userData.picture} alt=\"\" />\r\n            </li>\r\n          </NavLink>\r\n          <NavLink exact activeClassName=\"current\" to=\"/accueil\">\r\n            <li className=\"middle\">\r\n              <i className=\"fas fa-home\"></i>\r\n            </li>\r\n          </NavLink>\r\n          <li className=\"deconnect\" onClick={logOut}>\r\n            <i className=\"fas fa-power-off\"></i>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\n// posts\r\nexport const GET_POSTS = \"GET_POSTS\";\r\nexport const ADD_POST = \"ADD_POST\";\r\nexport const LIKE_POST = \"LIKE_POST\";\r\nexport const UNLIKE_POST = \"UNLIKE_POST\";\r\nexport const UPDATE_POST = \"UPDATE_POST\";\r\nexport const DELETE_POST = \"DELETE_POST\";\r\n\r\n// comments\r\nexport const ADD_COMMENT = \"ADD_COMMENT\";\r\nexport const EDIT_COMMENT = \"EDIT_COMMENT\";\r\nexport const DELETE_COMMENT = \"DELETE_COMMENT\";\r\n\r\n// errors\r\nexport const GET_POST_ERRORS = \"GET_POST_ERRORS\";\r\n\r\n// posts\r\nexport const getPosts = (num) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`/posts`)\r\n      .then((res) => {\r\n        const array = res.data.reverse().slice(0, num);\r\n        dispatch({ type: GET_POSTS, payload: array });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const addPost = (data) => {\r\n  return (dispatch) => {\r\n    return axios.post(`/posts`, data).then((res) => {\r\n      console.log(\"ok\");\r\n      if (res.data.maxSize !== \"\") {\r\n        dispatch({ type: GET_POST_ERRORS, payload: res.data.maxSize });\r\n      } else if (res.data.format !== \"\") {\r\n        dispatch({ type: GET_POST_ERRORS, payload: res.data.format });\r\n      } else {\r\n        dispatch({ type: GET_POST_ERRORS, payload: \"\" });\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport const likePost = (postId, userId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `/posts/like-post/${postId}`,\r\n      data: { id: userId },\r\n    })\r\n      .then((res) => {\r\n        dispatch({ type: LIKE_POST, payload: { postId, userId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const unlikePost = (postId, userId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `/posts/unlike-post/${postId}`,\r\n      data: { id: userId },\r\n    })\r\n      .then((res) => {\r\n        dispatch({ type: UNLIKE_POST, payload: { postId, userId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const updatePost = (postId, message) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"put\",\r\n      url: `/posts/${postId}`,\r\n      data: { message },\r\n    })\r\n      .then((res) => {\r\n        dispatch({ type: UPDATE_POST, payload: { message, postId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const deletePost = (postId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"delete\",\r\n      url: `/posts/${postId}`,\r\n    })\r\n      .then((res) => {\r\n        dispatch({ type: DELETE_POST, payload: { postId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\n// comments\r\n\r\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `/posts/comment-post/${postId}`,\r\n      data: { commenterId, text, commenterPseudo },\r\n    })\r\n      .then((res) => {\r\n        dispatch({ type: ADD_COMMENT, payload: { postId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const editComment = (postId, commentId, text) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `/posts/edit-comment-post/${postId}`,\r\n      data: { commentId, text },\r\n    })\r\n      .then((res) => {\r\n        dispatch({\r\n          type: EDIT_COMMENT,\r\n          payload: { postId, commentId, text },\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const deleteComment = (postId, commentId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `/posts/delete-comment-post/${postId}`,\r\n      data: { commentId },\r\n    })\r\n      .then((res) => {\r\n        dispatch({\r\n          type: DELETE_COMMENT,\r\n          payload: { postId, commentId },\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n","export const isEmpty = (value) => {\r\n  return (\r\n    value === undefined ||\r\n    value === null ||\r\n    (typeof value === \"object\" && Object.keys(value).length === 0) ||\r\n    (typeof value === \"string\" && value.trim().length === 0)\r\n  );\r\n};\r\n\r\nexport const dateParser = (num) => {\r\n  let options = {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n\r\n    year: \"numeric\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  };\r\n  let timestamp = Date.parse(num);\r\n\r\n  let date = new Date(timestamp).toLocaleDateString(\"fr-FR\", options);\r\n\r\n  return date.toString();\r\n};\r\n\r\nexport const timestampParser = (num) => {\r\n  let options = {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n\r\n    year: \"numeric\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  };\r\n\r\n  let date = new Date(num).toLocaleDateString(\"fr-FR\", options);\r\n\r\n  return date.toString();\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport const GET_USER = \"GET_USER\";\r\nexport const UPLOAD_PICTURE = \"UPLOAD_PICTURE\";\r\nexport const UPLOAD_BIO = \"UPLOAD_BIO\";\r\nexport const FOLLOW_USER = \"FOLLOW_USER\";\r\nexport const UNFOLLOW_USER = \"UNFOLLOW_USER\";\r\n\r\nexport const GET_USER_ERRORS = \"GET_USER_ERRORS\";\r\n\r\nexport const getUser = (uid) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`/users/user/${uid}`)\r\n      .then((res) => {\r\n        dispatch({ type: GET_USER, payload: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const uploadPicture = (data, id) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .post(`/users/upload`, data)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.errors) {\r\n          console.log(res.data.errors);\r\n          if (res.data.erros.maxSize !== \"\") {\r\n            dispatch({\r\n              type: GET_USER_ERRORS,\r\n              payload: res.data.errors.maxSize,\r\n            });\r\n          } else if (res.data.errors.format !== \"\") {\r\n            dispatch({\r\n              type: GET_USER_ERRORS,\r\n              payload: res.data.errors.format,\r\n            });\r\n          }\r\n        } else {\r\n          dispatch({ type: GET_USER_ERRORS, payload: \"\" });\r\n          console.log(res);\r\n          // return axios\r\n          //   .get(`/users/user/${id}`)\r\n          //   .then((res) => {\r\n          //     console.log(res);\r\n          dispatch({ type: UPLOAD_PICTURE, payload: res.data.picture });\r\n          // });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const uploadBio = (bio, id) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .put(`/users/bio/${id}`, { bio: bio })\r\n      .then((res) => {\r\n        dispatch({ type: UPLOAD_BIO, payload: bio });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const followUser = (followerId, idToFollow) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .patch(`/users/follow/${followerId}`, {\r\n        idToFollow,\r\n      })\r\n      .then((res) => {\r\n        dispatch({ type: FOLLOW_USER, payload: idToFollow });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const unfollowUser = (followerId, idToUnfollow) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .patch(`/users/unfollow/${followerId}`, {\r\n        idToUnfollow,\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        dispatch({ type: UNFOLLOW_USER, payload: idToUnfollow });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { followUser, unfollowUser } from \"../../actions/userAction\";\r\nimport { isEmpty } from \"../../utils\";\r\n\r\nexport default function FollowHandler({ idToFollow, type }) {\r\n  const dispatch = useDispatch();\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const [isFollowed, setIsFollowed] = useState(false);\r\n\r\n  const handleFollow = (e) => {\r\n    e.preventDefault();\r\n    dispatch(followUser(userData._id, idToFollow));\r\n    setIsFollowed(true);\r\n  };\r\n\r\n  const handleUnfollow = (e) => {\r\n    e.preventDefault();\r\n    dispatch(unfollowUser(userData._id, idToFollow));\r\n    setIsFollowed(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(userData.following)) {\r\n      if (userData.following.includes(idToFollow)) {\r\n        setIsFollowed(true);\r\n      }\r\n    }\r\n  }, [idToFollow, userData.following]);\r\n\r\n  return (\r\n    <>\r\n      {isFollowed && !isEmpty(userData) && (\r\n        <div className=\"follow-unfollow\">\r\n          {type === \"suggestion\" && (\r\n            <button onClick={handleUnfollow} className=\"unfollow\">\r\n              <i className=\"fas fa-window-close\"></i>\r\n            </button>\r\n          )}\r\n\r\n          {type === \"card\" && (\r\n            <button onClick={handleUnfollow} className=\"unfollow-card\">\r\n              <i className=\"fas fa-check-circle\"></i>\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {!isFollowed && !isEmpty(userData) && (\r\n        <div className=\"follow-unfollow\">\r\n          {type === \"suggestion\" && (\r\n            <button onClick={handleFollow} className=\"follow\">\r\n              <i className=\"fas fa-user-plus\"></i>\r\n            </button>\r\n          )}\r\n\r\n          {type === \"card\" && (\r\n            <button onClick={handleFollow} className=\"follow-card\">\r\n              <i className=\"far fa-check-circle\"></i>\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport FollowHandler from \"../../Pages/Profil/FollowHandler\";\r\nimport { dateParser } from \"../../utils\";\r\n\r\nexport const FriendProfil = ({ user, toggleUser, userData }) => {\r\n  const closePopup = (e) => {\r\n    console.log(e.target.className);\r\n    if (e.target.className === \"friend-profil-container\") {\r\n      toggleUser(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"friend-profil-container\" onClick={closePopup}>\r\n      <div className=\"friend-content\">\r\n        <div className=\"user-img-pseudo\">\r\n          <img src={user.picture} alt=\"\" className=\"user-img\" />\r\n          <h3 className=\"user-pseudo\">\r\n            {user.pseudo}\r\n\r\n            {userData._id !== user._id && (\r\n              <FollowHandler idToFollow={user._id} type=\"card\" />\r\n            )}\r\n          </h3>\r\n          <div className=\"user-registration\">\r\n            Inscrit depuis le {dateParser(user.createdAt)}\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"user-bio\">{user.bio}</p>\r\n        <div className=\"user-follows\">\r\n          <div className=\"user-followers\">Abonnés {user.followers.length} </div>\r\n          <div className=\"user-following\">\r\n            Abonnements {user.following.length}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deletePost, updatePost } from \"../../actions/postAction\";\r\n\r\nexport default function UpdatePost({ post, userData }) {\r\n  const [isUpdated, setIsUpdated] = useState(false);\r\n  const [textUpdate, setTextUpdate] = useState(null);\r\n  const dispatch = useDispatch();\r\n\r\n  const updateItem = () => {\r\n    if (textUpdate) {\r\n      dispatch(updatePost(post._id, textUpdate));\r\n      setIsUpdated(false);\r\n    }\r\n  };\r\n\r\n  const deleteQuote = () => {\r\n    dispatch(deletePost(post._id));\r\n  };\r\n  return (\r\n    <div className=\"update-post\">\r\n      <div className=\"form-update\">\r\n        {!isUpdated && <p className=\"description\">{post.message}</p>}\r\n\r\n        {isUpdated && (\r\n          <form onSubmit={updateItem}>\r\n            <textarea\r\n              defaultValue={post.message}\r\n              onChange={(e) => setTextUpdate(e.target.value)}\r\n            />\r\n            <button type=\"submit\" className=\"update-btn\">\r\n              <i className=\"fas fa-check-square\"></i>\r\n            </button>\r\n          </form>\r\n        )}\r\n      </div>\r\n      {userData._id === post.posterId && (\r\n        <div className=\"btns-edit-delete\">\r\n          <button onClick={() => setIsUpdated(!isUpdated)} className=\"edit\">\r\n            <i className=\"far fa-edit\"></i>\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              if (window.confirm(\"Voulez-vous supprimer cet article ?\")) {\r\n                deleteQuote();\r\n              }\r\n            }}\r\n            className=\"delete\"\r\n          >\r\n            <i className=\"far fa-trash-alt\"></i>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { createContext } from \"react\";\r\n\r\nexport const UserIdContext = createContext();\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { likePost, unlikePost } from \"../../actions/postAction\";\r\nimport { UserIdContext } from \"../../Contexts/AppContext\";\r\n\r\nexport default function LikeButton({ post }) {\r\n  const [liked, setLiked] = useState(false);\r\n  const uid = useContext(UserIdContext);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (post.likers.includes(uid)) {\r\n      setLiked(true);\r\n    } else {\r\n      setLiked(false);\r\n    }\r\n  }, [uid, post.likers, liked]);\r\n\r\n  const like = () => {\r\n    setLiked(true);\r\n    dispatch(likePost(post._id, uid));\r\n  };\r\n\r\n  const unlike = () => {\r\n    setLiked(false);\r\n    dispatch(unlikePost(post._id, uid));\r\n  };\r\n  return (\r\n    <>\r\n      {liked ? (\r\n        <button onClick={() => unlike()} className=\"unlike\">\r\n          <i className=\"fas fa-heart\"></i>\r\n        </button>\r\n      ) : (\r\n        <button onClick={like} className=\"like\">\r\n          <i className=\"far fa-heart\"></i>\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteComment, editComment } from \"../../actions/postAction\";\r\nimport { UserIdContext } from \"../../Contexts/AppContext\";\r\n\r\nconst EditDeleteComment = ({ comment, postId }) => {\r\n  const [isAuthor, setIsAuthor] = useState(false);\r\n  const [edit, setEdit] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n  const uid = useContext(UserIdContext);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const checkAuthor = () => {\r\n      if (uid === comment.commenterId) {\r\n        setIsAuthor(true);\r\n      }\r\n    };\r\n\r\n    checkAuthor();\r\n  }, [uid, comment.commenterId]);\r\n\r\n  const handleEdit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (text) {\r\n      dispatch(editComment(postId, comment._id, text));\r\n      setText(\"\");\r\n    }\r\n    setEdit(false);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    dispatch(deleteComment(postId, comment._id));\r\n    setEdit(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit-delete\">\r\n      {isAuthor && !edit && (\r\n        <button className=\"edit\" onClick={() => setEdit(!edit)}>\r\n          <i className=\"fas fa-pen\"></i>\r\n        </button>\r\n      )}\r\n\r\n      {isAuthor && edit && (\r\n        <form onSubmit={handleEdit} className=\"form-edit\">\r\n          <textarea\r\n            name=\"text\"\r\n            defaultValue={comment.text}\r\n            onChange={(e) => setText(e.target.value)}\r\n          />\r\n          <button type=\"submit\" className=\"btn-submit\">\r\n            <i className=\"fas fa-check\"></i>\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              if (window.confirm(\"Voulez-vous supprimer cet article ?\")) {\r\n                handleDelete();\r\n              }\r\n            }}\r\n            className=\"btn-delete\"\r\n          >\r\n            <i className=\"fas fa-trash-alt\"></i>\r\n          </button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditDeleteComment;\r\n","import React, { useState } from \"react\";\r\nimport { isEmpty, timestampParser } from \"../../utils\";\r\nimport LikeButton from \"./LikeButton\";\r\nimport EditeDeleteComment from \"./EditDeleteComment\";\r\n\r\nexport default function Comments({ post, userData, usersData }) {\r\n  const [toggleComments, setToggleComments] = useState(false);\r\n  return (\r\n    <div className=\"container-comments\">\r\n      <div className=\"opinions\">\r\n        <div className=\"likes\">\r\n          <LikeButton post={post} />\r\n          <button>{post.likers.length}</button>\r\n          {/* onClick affiche les likers */}\r\n        </div>\r\n\r\n        <button\r\n          onClick={() => setToggleComments(!toggleComments)}\r\n          className=\"toggle-comment\"\r\n        >\r\n          {post.comments.length} commentaires{\" \"}\r\n          <i className=\"fas fa-comment-alt\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      {toggleComments &&\r\n        post.comments.map((comment) => {\r\n          return (\r\n            <div\r\n              key={comment._id}\r\n              className={\r\n                comment.commenterId === userData._id\r\n                  ? \"text-comment my-comment\"\r\n                  : \"text-comment\"\r\n              }\r\n            >\r\n              <div className=\"commenters\">\r\n                <img\r\n                  src={\r\n                    !isEmpty(usersData[0]) &&\r\n                    usersData\r\n                      .map((user) => {\r\n                        if (user._id === comment.commenterId)\r\n                          return user.picture;\r\n                        else return null;\r\n                      })\r\n                      .join(\"\")\r\n                  }\r\n                  alt=\"utilisateur\"\r\n                />\r\n\r\n                <span className=\"commenter-pseudo\">\r\n                  {comment.commenterPseudo}\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"commenter-text\">\r\n                {comment.text}\r\n\r\n                <EditeDeleteComment comment={comment} postId={post._id} />\r\n              </div>\r\n\r\n              <div className=\"comment-date\">\r\n                {timestampParser(comment.timestamp)}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { addComment } from \"../../actions/postAction\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getPosts } from \"../../actions/postAction\";\r\n\r\nconst CommentsForm = ({ post, userData }) => {\r\n  const dispatch = useDispatch();\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleComment = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (text) {\r\n      dispatch(addComment(post._id, userData._id, text, userData.pseudo))\r\n        .then(() => dispatch(getPosts()))\r\n        .then(() => setText(\"\"));\r\n    }\r\n  };\r\n  return (\r\n    <form className=\"message-comment\" onSubmit={handleComment}>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Commenter la publication ...\"\r\n        value={text}\r\n        onChange={(e) => setText(e.target.value)}\r\n      />\r\n      <button type=\"submit\">\r\n        <i className=\"fas fa-paper-plane\"></i>\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CommentsForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPosts } from \"../../actions/postAction\";\r\nimport { dateParser, isEmpty } from \"../../utils\";\r\nimport FollowHandler from \"../../Pages/Profil/FollowHandler\";\r\nimport { FriendProfil } from \"./FriendProfil\";\r\nimport UpdatePost from \"./UpdatePost\";\r\nimport Comments from \"./Comments\";\r\nimport CommentsForm from \"./CommentsForm\";\r\n\r\nexport default function Publication() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [loadPosts, setLoadPosts] = useState(true);\r\n  const [toggleFriendProfil, setToggleFriendProfil] = useState(false);\r\n  const [userFriendProfil, setUserFriendProfil] = useState({});\r\n\r\n  const postsData = useSelector((state) => state.postsReducer);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const [count, setCount] = useState(5);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    !isEmpty(usersData[0]) && setIsLoading(false);\r\n  }, [usersData]);\r\n\r\n  const loadMore = () => {\r\n    if (\r\n      window.innerHeight + document.documentElement.scrollTop + 1 >\r\n      document.scrollingElement.scrollHeight\r\n    ) {\r\n      setLoadPosts(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loadPosts) {\r\n      dispatch(getPosts(count));\r\n      setLoadPosts(false);\r\n      setCount(count + 5);\r\n    }\r\n\r\n    window.addEventListener(\"scroll\", loadMore);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", loadMore);\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const handleFriendProfil = (id) => {\r\n    usersData.map((user) => {\r\n      if (user._id === id) {\r\n        return setUserFriendProfil(user);\r\n      }\r\n      setToggleFriendProfil(true);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <section className=\"content\">\r\n      {toggleFriendProfil && (\r\n        <FriendProfil\r\n          user={userFriendProfil}\r\n          toggleUser={setToggleFriendProfil}\r\n          userData={userData}\r\n        />\r\n      )}\r\n      {!isEmpty(postsData[0]) &&\r\n        postsData.map((post) => {\r\n          return (\r\n            <article key={post._id}>\r\n              {!isLoading ? (\r\n                <>\r\n                  <div className=\"user-info\">\r\n                    <div className=\"show-user\">\r\n                      <div className=\"img-user\">\r\n                        <img\r\n                          src={\r\n                            !isEmpty(usersData[0]) &&\r\n                            usersData\r\n                              .map((user) => {\r\n                                if (user._id === post.posterId) {\r\n                                  return user.picture;\r\n                                }\r\n                              })\r\n                              .join(\"\")\r\n                          }\r\n                          alt=\"utilisateur\"\r\n                        />\r\n                      </div>\r\n                      <h3 className=\"user-name\">\r\n                        {!isEmpty(usersData[0]) &&\r\n                          usersData.map((user) => {\r\n                            if (user._id === post.posterId) {\r\n                              return (\r\n                                <button\r\n                                  key={user._id}\r\n                                  onClick={() => handleFriendProfil(user._id)}\r\n                                >\r\n                                  {\" \"}\r\n                                  {user.pseudo}\r\n                                </button>\r\n                              );\r\n                            }\r\n                          })}\r\n                      </h3>\r\n                      {post.posterId !== userData._id && (\r\n                        <FollowHandler\r\n                          idToFollow={post.posterId}\r\n                          type={\"card\"}\r\n                        />\r\n                      )}\r\n                    </div>\r\n\r\n                    <span>{dateParser(post.createdAt)}</span>\r\n                  </div>\r\n\r\n                  <UpdatePost post={post} userData={userData} />\r\n\r\n                  <div className=\"media\">\r\n                    {post.picture && (\r\n                      <img src={`${post.picture}`} alt=\"publication\" />\r\n                    )}\r\n                    {post.video && (\r\n                      <iframe\r\n                        src={post.video}\r\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                        title={`vidéo publication ${post.message}`}\r\n                      />\r\n                    )}\r\n                  </div>\r\n\r\n                  <Comments\r\n                    post={post}\r\n                    userData={userData}\r\n                    usersData={usersData}\r\n                  />\r\n\r\n                  <CommentsForm post={post} userData={userData} />\r\n                </>\r\n              ) : (\r\n                <div className=\"loadings\">\r\n                  <div className=\"user-loading\">\r\n                    <div className=\"user-picture-loading loading\"></div>\r\n                    <div className=\"user-name-loading  loading\"></div>\r\n                    <div className=\"date-loading  loading\"></div>\r\n                  </div>\r\n\r\n                  <div className=\"description-loading  loading\"></div>\r\n\r\n                  <div className=\"media-loading loading\"> </div>\r\n\r\n                  <div className=\"message-loading  loading\"> </div>\r\n                </div>\r\n              )}\r\n            </article>\r\n          );\r\n        })}\r\n    </section>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { isEmpty } from \"../../utils\";\r\nimport { addPost, getPosts } from \"../../actions/postAction\";\r\n\r\nexport default function PostForm() {\r\n  const dispatch = useDispatch();\r\n  const [message, setMessage] = useState(\"\");\r\n  const [postPicture, setPostPicture] = useState(null);\r\n  const [video, setVideo] = useState(\"\");\r\n  const [file, setFile] = useState();\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const error = useSelector((state) => state.errorReducer);\r\n\r\n  const handleMessage = (e) => {\r\n    setMessage(e);\r\n  };\r\n\r\n  const handlePicture = (e) => {\r\n    setPostPicture(URL.createObjectURL(e.target.files[0]));\r\n    setFile(e.target.files[0]);\r\n    setVideo(\"\");\r\n  };\r\n\r\n  const handlePost = async (e) => {\r\n    e.preventDefault();\r\n    if (message || postPicture || video) {\r\n      const data = new FormData();\r\n\r\n      data.append(\"posterId\", userData._id);\r\n      data.append(\"message\", message);\r\n      if (file) data.append(\"file\", file);\r\n      data.append(\"video\", video);\r\n      console.log(data);\r\n\r\n      await dispatch(addPost(data));\r\n      dispatch(getPosts());\r\n      cancelPost();\r\n    } else {\r\n      alert(\"Veuillez entrer un message\");\r\n    }\r\n  };\r\n\r\n  const cancelPost = () => {\r\n    setPostPicture(\"\");\r\n    setMessage(\"\");\r\n    setVideo(\"\");\r\n    setFile(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleVideo = () => {\r\n      let findLink = video.split(\" \");\r\n\r\n      for (let i = 0; i < findLink.length; i++) {\r\n        if (\r\n          findLink[i].includes(\"https://www.yout\") ||\r\n          findLink[i].includes(\"https://yout\")\r\n        ) {\r\n          let embed = findLink[i].replace(\"watch?v=\", \"embed/\");\r\n          setVideo(embed.split(\"&\")[0]);\r\n          setPostPicture(\"\");\r\n        }\r\n      }\r\n    };\r\n\r\n    handleVideo();\r\n  }, [userData, video]);\r\n\r\n  return (\r\n    <form className=\"form-publication\">\r\n      <legend>Nouvelle publication</legend>\r\n\r\n      <input\r\n        type=\"text\"\r\n        id=\"message\"\r\n        value={message}\r\n        onChange={(e) => handleMessage(e.target.value)}\r\n        placeholder=\"Description...\"\r\n      />\r\n\r\n      <div className=\"medias\">\r\n        {isEmpty(video) && (\r\n          <div className=\"picture\">\r\n            <span>\r\n              <i className=\"fas fa-camera\"></i>\r\n            </span>\r\n            <label htmlFor=\"file\" className=\"media-label\">\r\n              Choisissez une image\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              id=\"file\"\r\n              accept=\".jpg, .jpeg, .png\"\r\n              onChange={(e) => handlePicture(e)}\r\n            />\r\n          </div>\r\n        )}\r\n        {isEmpty(postPicture) && isEmpty(video) && (\r\n          <div className=\"space\"></div>\r\n        )}\r\n        {isEmpty(postPicture) && (\r\n          <div className=\"video\">\r\n            <span>\r\n              <i className=\"fas fa-video\"></i>\r\n            </span>\r\n            <input\r\n              type=\"text\"\r\n              id=\"url\"\r\n              onChange={(e) => setVideo(e.target.value)}\r\n              value={video}\r\n              placeholder=\"URL vidéo youtube\"\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n      {/* render */}\r\n      {(video || message || file || postPicture) && (\r\n        <div className=\"render-post\">\r\n          <div className=\"user\">\r\n            <img\r\n              src={userData.picture}\r\n              alt=\"utilisateur\"\r\n              className=\"render-user-img\"\r\n            />\r\n            <h3 className=\"render-post-pseudo\">{userData.pseudo}</h3>\r\n          </div>\r\n\r\n          <p className=\"message-post\">{message}</p>\r\n          {postPicture && (\r\n            <img\r\n              src={postPicture}\r\n              alt=\"publication\"\r\n              className=\"render-post-media picture-post\"\r\n            />\r\n          )}\r\n          {video && (\r\n            <iframe\r\n              src={video}\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              title={video}\r\n              className=\"render-post-media video-post\"\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {(video || message || file || postPicture) && (\r\n        <div className=\"btns-post\">\r\n          <button className=\"cancel-post\" onClick={cancelPost}>\r\n            Annuler <i className=\"fas fa-ban\"></i>\r\n          </button>\r\n          <button className=\"send-post\" onClick={handlePost}>\r\n            Publier <i className=\"fas fa-check\"></i>\r\n          </button>\r\n        </div>\r\n      )}\r\n      {!isEmpty(error) && <p className=\"errors\">{error.postsErrors}</p>}\r\n    </form>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { isEmpty } from \"../../utils\";\r\nimport FollowHandler from \"../../Pages/Profil/FollowHandler\";\r\nimport { FriendProfil } from \"../Publication/FriendProfil\";\r\n\r\nconst Friend = () => {\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const [slot, setSlot] = useState(1);\r\n  const [division, setDivision] = useState(5);\r\n  const [translate, setTranslate] = useState(850);\r\n  const [friendList, setFriendList] = useState([]);\r\n  const [width, setWidth] = useState();\r\n  const [toggleFriendProfil, setToggleFriendProfil] = useState(false);\r\n  const [userFriendProfil, setUserFriendProfil] = useState({});\r\n  const number = friendList.length;\r\n  const max = Math.ceil(number / division);\r\n\r\n  let list = document.querySelector(\".friend-list\");\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"load\", () => {\r\n      const innerWidth = window.innerWidth;\r\n      setWidth(innerWidth);\r\n\r\n      if (innerWidth > 1000) {\r\n        setDivision(5);\r\n        setTranslate(850);\r\n      }\r\n      if (innerWidth < 1000 && innerWidth > 650) {\r\n        setDivision(4);\r\n        setTranslate(480);\r\n      }\r\n\r\n      if (innerWidth < 650) {\r\n        setTranslate(240);\r\n        setDivision(3);\r\n      }\r\n    });\r\n\r\n    window.addEventListener(\"resize\", () => {\r\n      const innerWidth = window.innerWidth;\r\n      setWidth(innerWidth);\r\n\r\n      if (innerWidth > 1000) {\r\n        setDivision(5);\r\n        setTranslate(850);\r\n      }\r\n      if (innerWidth < 1000 && innerWidth > 650) {\r\n        setDivision(4);\r\n        setTranslate(480);\r\n      }\r\n\r\n      if (innerWidth < 650) {\r\n        setTranslate(240);\r\n        setDivision(3);\r\n      }\r\n    });\r\n  }, [width, friendList, division]);\r\n\r\n  const handleSlot = (type) => {\r\n    if (type === \"next\") {\r\n      if (slot >= max) {\r\n        return;\r\n      } else {\r\n        list.style.transform = `translateX(-${translate * slot}px)`;\r\n        setSlot(slot + 1);\r\n      }\r\n    }\r\n    if (type === \"prev\") {\r\n      setSlot(1);\r\n      list.style.transform = `translateX(0)`;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const notFriendList = () => {\r\n      let array = [];\r\n      usersData.map((user) => {\r\n        if (\r\n          user._id !== userData._id &&\r\n          !user.followers.includes(userData._id)\r\n        ) {\r\n          return array.push(user._id);\r\n        }\r\n      });\r\n      array.sort(() => 0.5 - Math.random());\r\n      setFriendList(array);\r\n    };\r\n\r\n    if (!isEmpty(usersData[0]) && !isEmpty(userData._id)) {\r\n      notFriendList();\r\n    }\r\n  }, [userData, usersData]);\r\n\r\n  const handleFriendProfil = (id) => {\r\n    console.log(id);\r\n    usersData.map((user) => {\r\n      if (user._id === id) {\r\n        return setUserFriendProfil(user);\r\n      }\r\n      setToggleFriendProfil(true);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={friendList <= 0 ? \"container-friend none\" : \"container-friend\"}\r\n    >\r\n      {toggleFriendProfil && (\r\n        <FriendProfil\r\n          user={userFriendProfil}\r\n          toggleUser={setToggleFriendProfil}\r\n          userData={userData}\r\n        />\r\n      )}\r\n      <h4>Vous connaissez peut-être</h4>\r\n      {number && number > 6 && (\r\n        <button className=\"before-btn\" onClick={() => handleSlot(\"prev\")}>\r\n          <i className=\"fas fa-caret-square-left\"></i>\r\n        </button>\r\n      )}\r\n      <div className=\"friends\">\r\n        <ul className=\"friend-list\">\r\n          {friendList &&\r\n            friendList.map((user) => {\r\n              for (let i = 0; i < usersData.length; i++) {\r\n                if (usersData[i]._id === user) {\r\n                  return (\r\n                    <li key={user}>\r\n                      <button onClick={() => handleFriendProfil(user)}>\r\n                        <img src={usersData[i].picture} alt=\"utilisateur\" />\r\n                        <span>{usersData[i].pseudo}</span>\r\n                      </button>\r\n                      <FollowHandler\r\n                        idToFollow={usersData[i]._id}\r\n                        type={\"suggestion\"}\r\n                      />\r\n                    </li>\r\n                  );\r\n                }\r\n              }\r\n            })}\r\n        </ul>\r\n      </div>\r\n      {number && number > 6 && (\r\n        <button className=\"after-btn\" onClick={() => handleSlot(\"next\")}>\r\n          <i className=\"fas fa-caret-square-right\"></i>\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friend;\r\n","import React from \"react\";\r\nimport Navbar from \"../../Components/Navbar/Navbar\";\r\nimport Publication from \"../../Components/Publication/Publication\";\r\nimport PostForm from \"./PostForm\";\r\nimport Friend from \"../../Components/Friend/Friend\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <main className=\"home-container container\">\r\n        <PostForm />\r\n        <Friend />\r\n        <Publication />\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { uploadPicture } from \"../../actions/userAction\";\r\n\r\nexport default function UploadImg({ userData }) {\r\n  const [file, setFile] = useState();\r\n  const [isChanged, setIsChanged] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const submitPicture = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData();\r\n    data.append(\"name\", userData.pseudo);\r\n    data.append(\"userId\", userData._id);\r\n    data.append(\"file\", file);\r\n\r\n    dispatch(uploadPicture(data, userData._id));\r\n    setIsChanged(false);\r\n  };\r\n\r\n  const changePicture = (e) => {\r\n    setFile(e);\r\n    setIsChanged(true);\r\n  };\r\n\r\n  return (\r\n    <form className=\"upload-picture\" onSubmit={submitPicture}>\r\n      {!isChanged ? (\r\n        <label htmlFor=\"file\" className=\"change-img\">\r\n          <i className=\"far fa-image\"></i>\r\n        </label>\r\n      ) : (\r\n        <button type=\"submit\" className=\"change-img\">\r\n          <i className=\"fas fa-check\"></i>\r\n        </button>\r\n      )}\r\n\r\n      <input\r\n        type=\"file\"\r\n        name=\"file\"\r\n        id=\"file\"\r\n        accept=\".jpg, .jpeg, .png\"\r\n        onChange={(e) => changePicture(e.target.files[0])}\r\n      />\r\n    </form>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport UploadImg from \"./UploadImg\";\r\nimport { uploadBio } from \"../../actions/userAction\";\r\nimport FollowHandler from \"./FollowHandler\";\r\nimport { dateParser, isEmpty, timestampParser } from \"../../utils\";\r\nimport { getPosts } from \"../../actions/postAction\";\r\nimport UpdatePost from \"../../Components/Publication/UpdatePost\";\r\nimport Navbar from \"../../Components/Navbar/Navbar\";\r\n\r\nexport default function Profil() {\r\n  const dispatch = useDispatch();\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const postsData = useSelector((state) => state.postsReducer);\r\n  const error = useSelector((state) => state.errorReducer);\r\n\r\n  useEffect(() => {\r\n    dispatch(getPosts());\r\n  }, [dispatch]);\r\n\r\n  // bio\r\n\r\n  const [bioActive, setBioActive] = useState(false);\r\n  const [bio, setBio] = useState(userData.bio);\r\n\r\n  const toggleBio = () => {\r\n    setBioActive(!bioActive);\r\n  };\r\n\r\n  const handleBio = (e) => {\r\n    setBio(e.target.value);\r\n  };\r\n\r\n  const dispatchBio = (e) => {\r\n    e.preventDefault();\r\n    toggleBio();\r\n    dispatch(uploadBio(bio, userData._id));\r\n  };\r\n\r\n  // follows\r\n  const [followersPopup, setFollowersPopup] = useState(false);\r\n  const [followingPopup, setFollowingPopup] = useState(false);\r\n\r\n  const handlePopup = (type) => {\r\n    if (type === \"followers\") {\r\n      setFollowersPopup(!followersPopup);\r\n    }\r\n    if (type === \"following\") {\r\n      setFollowingPopup(!followingPopup);\r\n    }\r\n  };\r\n\r\n  const closePopup = (e) => {\r\n    if (e.target.className === \"overlay\") {\r\n      setFollowersPopup(false);\r\n      setFollowingPopup(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <main className=\"profil-container container\">\r\n        <section className=\"user\">\r\n          <div className=\"user-profil\">\r\n            <img src={userData.picture} alt=\"utilisateur\" />\r\n            <UploadImg userData={userData} />\r\n          </div>\r\n\r\n          {!isEmpty(error) && <p className=\"errors\">{error.usersErrors}</p>}\r\n\r\n          <div className=\"profil-bottom\">\r\n            <form className=\"user-bio\" onSubmit={dispatchBio}>\r\n              <label htmlFor=\"bio\" onClick={toggleBio}>\r\n                biographie :\r\n              </label>\r\n\r\n              {bioActive ? (\r\n                <textarea\r\n                  name=\"bio\"\r\n                  id=\"bio\"\r\n                  defaultValue={userData.bio}\r\n                  onChange={handleBio}\r\n                ></textarea>\r\n              ) : (\r\n                <p onClick={toggleBio}>{userData.bio}</p>\r\n              )}\r\n\r\n              <button type=\"submit\" className=\"update-bio\">\r\n                {bioActive ? (\r\n                  <i className=\"fas fa-check\"></i>\r\n                ) : (\r\n                  <i className=\"fas fa-pencil-alt\"></i>\r\n                )}\r\n              </button>\r\n            </form>\r\n\r\n            <div className=\"follows\">\r\n              <div\r\n                className=\"followers\"\r\n                onClick={() => handlePopup(\"followers\")}\r\n              >\r\n                Abonnés : {userData.followers && userData.followers.length}\r\n              </div>\r\n              <div\r\n                className=\"following\"\r\n                onClick={() => handlePopup(\"following\")}\r\n              >\r\n                Abonnements : {userData.following && userData.following.length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {followersPopup && (\r\n          <div className=\"overlay\" onClick={(e) => closePopup(e)}>\r\n            <ul className=\"follows-popup\">\r\n              {!isEmpty(usersData) &&\r\n                usersData.map((user) => {\r\n                  for (let i = 0; i < userData.followers.length; i++) {\r\n                    if (user._id === userData.followers[i]) {\r\n                      return (\r\n                        <li key={user._id}>\r\n                          <div className=\"users\">\r\n                            <img src={user.picture} alt=\"utilisateur abonné\" />\r\n                            <h4>{user.pseudo}</h4>\r\n                          </div>\r\n\r\n                          <FollowHandler\r\n                            idToFollow={user._id}\r\n                            type={\"suggestion\"}\r\n                          />\r\n                        </li>\r\n                      );\r\n                    }\r\n                  }\r\n                  return;\r\n                })}\r\n            </ul>\r\n          </div>\r\n        )}\r\n        {followingPopup && (\r\n          <div className=\"overlay\" onClick={(e) => closePopup(e)}>\r\n            <ul className=\"follows-popup\">\r\n              {userData.following &&\r\n                usersData.map((user) => {\r\n                  for (let i = 0; i < userData.following.length; i++) {\r\n                    if (user._id === userData.following[i]) {\r\n                      return (\r\n                        <li key={user._id}>\r\n                          <div className=\"users\">\r\n                            <img src={user.picture} alt=\"utilisateur abonné\" />\r\n                            <h4>{user.pseudo}</h4>\r\n                          </div>\r\n\r\n                          <FollowHandler\r\n                            idToFollow={user._id}\r\n                            type={\"suggestion\"}\r\n                          />\r\n                        </li>\r\n                      );\r\n                    }\r\n                  }\r\n                  return;\r\n                })}\r\n            </ul>\r\n          </div>\r\n        )}\r\n\r\n        <section className=\"content\">\r\n          <div className=\"name-date\">\r\n            <h2>{userData.pseudo}</h2>\r\n            <span>Inscrit depuis le {dateParser(userData.createdAt)}</span>\r\n          </div>\r\n          <ul className=\"container-publication\">\r\n            {!isEmpty(postsData) &&\r\n              postsData.map((post) => {\r\n                if (post.posterId === userData._id) {\r\n                  return (\r\n                    <li className=\"post-card\" key={post._id}>\r\n                      <div className=\"top-card\">\r\n                        {/* <p className=\"post-message\">{post.message}</p> */}\r\n                        <UpdatePost post={post} userData={userData} />\r\n                      </div>\r\n\r\n                      {post.picture && (\r\n                        <img src={post.picture} alt=\"publication\" />\r\n                      )}\r\n                      {post.video && (\r\n                        <iframe\r\n                          src={post.video}\r\n                          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                          title={`vidéo publication ${post.message}`}\r\n                        />\r\n                      )}\r\n\r\n                      <ul>\r\n                        {post.comments[0] &&\r\n                          post.comments.map((comment) => {\r\n                            return (\r\n                              <li className=\"commenters\" key={comment._id}>\r\n                                <p className=\"commenter-pseudo\">\r\n                                  {comment.commenterPseudo}\r\n                                </p>\r\n                                <div className=\"comment-time\">\r\n                                  <p className=\"commenter-text\">\r\n                                    {comment.text}\r\n                                  </p>\r\n                                  <span className=\"timestamp\">\r\n                                    {timestampParser(comment.timestamp)}\r\n                                  </span>\r\n                                </div>\r\n                              </li>\r\n                            );\r\n                          })}\r\n                      </ul>\r\n\r\n                      <div className=\"opinions\">\r\n                        <div className=\"likes\">\r\n                          <i className=\"fas fa-heart\"></i> {post.likers.length}\r\n                        </div>\r\n                        <div className=\"comments\">\r\n                          {post.comments.length}{\" \"}\r\n                          <i className=\"fas fa-comment-alt\"></i>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                }\r\n                return;\r\n              })}\r\n          </ul>\r\n        </section>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n","import Register from \"./Pages/Register/Register\";\nimport Home from \"./Pages/Home/Home\";\n\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Profil from \"./Pages/Profil/Profil\";\nimport { useState, useEffect } from \"react\";\nimport { UserIdContext } from \"./Contexts/AppContext\";\nimport axios from \"axios\";\nimport { getUser } from \"./actions/userAction\";\nimport { useDispatch } from \"react-redux\";\n\nfunction App() {\n  const [uid, setUid] = useState(null);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const fetchToken = async () => {\n      await axios({\n        method: \"get\",\n        url: \"/jwtid\",\n        withCredentials: true,\n      })\n        .then((res) => {\n          setUid(res.data);\n        })\n        .catch((err) => {\n          console.log(\"No token App\");\n        });\n    };\n\n    fetchToken();\n\n    if (uid) dispatch(getUser(uid));\n  }, [uid, dispatch]);\n  return (\n    <>\n      <UserIdContext.Provider value={uid}>\n        <BrowserRouter>\n          <Switch>\n            <Route path=\"/\" exact component={Register} />\n            {/* <Route component={Register} /> */}\n\n            <Route path=\"/accueil\" exact component={Home} />\n            <Route path=\"/profil\" exact component={Profil} />\n          </Switch>\n        </BrowserRouter>\n      </UserIdContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","import {\r\n  GET_USER,\r\n  UPLOAD_PICTURE,\r\n  UPLOAD_BIO,\r\n  FOLLOW_USER,\r\n  UNFOLLOW_USER,\r\n} from \"../actions/userAction\";\r\n\r\nconst initialState = {\r\n  _id: \"\",\r\n  pseudo: \"\",\r\n  picture: \"\",\r\n\r\n  followers: [],\r\n  following: [],\r\n  likes: [],\r\n  createdAt: \"\",\r\n  bio: \"\",\r\n};\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_USER:\r\n      return action.payload;\r\n\r\n    case UPLOAD_PICTURE:\r\n      return {\r\n        ...state,\r\n        picture: action.payload,\r\n      };\r\n\r\n    case UPLOAD_BIO:\r\n      return {\r\n        ...state,\r\n        bio: action.payload,\r\n      };\r\n\r\n    case FOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        following: [...state.following, action.payload],\r\n      };\r\n\r\n    case UNFOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        following: state.following.filter((id) => id !== action.payload),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport const GET_USERS = \"GET_USERS\";\r\n\r\nexport const getUsers = () => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`/users/allUsers`)\r\n      .then((res) => {\r\n        dispatch({ type: GET_USERS, payload: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n","import { GET_USERS } from \"../actions/usersAction\";\r\n\r\nconst initialState = {\r\n  _id: \"\",\r\n  pseudo: \"\",\r\n  picture: \"\",\r\n\r\n  followers: [],\r\n  following: [],\r\n  likes: [],\r\n  createdAt: \"\",\r\n  bio: \"\",\r\n};\r\n\r\nexport default function usersReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_USERS:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  GET_POSTS,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  UPDATE_POST,\r\n  DELETE_POST,\r\n  EDIT_COMMENT,\r\n  DELETE_COMMENT,\r\n} from \"../actions/postAction\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function postsReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_POSTS:\r\n      return action.payload;\r\n\r\n    case LIKE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return { ...post, likers: [action.payload.userId, ...post.likers] };\r\n        }\r\n        return post;\r\n      });\r\n\r\n    case UNLIKE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            likers: post.likers.filter((id) => id !== action.payload.userId),\r\n          };\r\n        }\r\n        return post;\r\n      });\r\n\r\n    case UPDATE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            message: action.payload.message,\r\n          };\r\n        }\r\n        return post;\r\n      });\r\n\r\n    case DELETE_POST:\r\n      return state.filter((post) => {\r\n        return post._id !== action.payload.postId;\r\n      });\r\n\r\n    case EDIT_COMMENT:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            comments: post.comments.map((comment) => {\r\n              if (comment._id === action.payload.commentId) {\r\n                return {\r\n                  ...comment,\r\n                  text: action.payload.text,\r\n                };\r\n              } else {\r\n                return comment;\r\n              }\r\n            }),\r\n          };\r\n        } else {\r\n          return post;\r\n        }\r\n      });\r\n\r\n    case DELETE_COMMENT:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            comments: post.comments.filter((comment) => {\r\n              return comment._id !== action.payload.commentId;\r\n            }),\r\n          };\r\n        } else {\r\n          return post;\r\n        }\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_POST_ERRORS } from \"../actions/postAction\";\r\nimport { GET_USER_ERRORS } from \"../actions/userAction\";\r\n\r\nconst initialState = { postsErrors: [], usersErrors: [] };\r\n\r\nexport default function errorReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_POST_ERRORS:\r\n      return {\r\n        postsErrors: action.payload,\r\n        usersErrors: [],\r\n      };\r\n\r\n    case GET_USER_ERRORS:\r\n      return {\r\n        usersErrors: action.payload,\r\n        postsErrors: [],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport userReducer from \"./userReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport postsReducer from \"./postsReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\n\r\nexport default combineReducers({\r\n  userReducer,\r\n  usersReducer,\r\n  postsReducer,\r\n  errorReducer,\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\nimport { getUsers } from \"./actions/usersAction\";\n\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.dispatch(getUsers());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}